<div style="margin-top: 150px" class="col-md-12">
	<div class="card card-container">
		<img id="profile-img" src="/assets/img/logo.png" class="profile-img-card" />
		<form *ngIf="!tokenResetPassword; else noToken" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
			<div class="form-group">
				<label for="username">Inserte el correo electrónico para recuperar su contraseña</label> <input (keydown.enter)="onSubmit()" type="email" class="form-control" name="username" [(ngModel)]="form.username" required #username="ngModel" />
        <div class="alert alert-danger" role="alert" *ngIf="f.submitted && username.invalid">
          <div *ngIf="username.errors.required">Debe insertar un el correo electrónico!</div>
          <div *ngIf="username.errors?.pattern">El correo introducido no es válido</div>
        </div>			</div>
      <div class="form-group">
        <button class="btn btn-primary btn-block">Enviar</button>
      </div>
		</form>
    <ng-template #noToken>
      <form name="form" (ngSubmit)="f.form.valid && password === matchingPassword && onSubmit2()" #f="ngForm" novalidate>
      <div class="form-group">
        <label for="password">Contraseña</label> <input (keydown.enter)="onSubmit2()" type="password" class="form-control" name="password" [(ngModel)]="formReg.password" required minlength="6"
                                                        #password="ngModel" />
        <div class="alert-danger" *ngIf="f.submitted && password.invalid">
          <div *ngIf="password.errors.required">La contraseña es obligatoria</div>
          <div *ngIf="password.errors.minlength">La contraseña debe tener mínimo 6 caracteres</div>
        </div>
      </div>
      <div class="form-group">
        <label for="matchingPassword">Confirme la contraseña</label> <input (keydown.enter)="onSubmit2()" type="password" class="form-control" name="matchingPassword" [(ngModel)]="formReg.matchingPassword" required minlength="6" #matchingPassword="ngModel" />
        <div class="alert-danger" *ngIf="f.submitted && matchingPassword.invalid">
          <div *ngIf="password !== matchingPassword">Las contraseñas no coinciden</div>

        </div>
      </div>
      <div class="form-group">
        <button class="btn btn-primary btn-block">Cambiar contraseña</button>
      </div>
      <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
        Signup failed!<br />{{ errorMessage }}
      </div>
      </form>
      <!-- Mostrar contenido cuando el token es nulo -->
    </ng-template>
  </div>
</div>
